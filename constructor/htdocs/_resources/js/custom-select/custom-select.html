<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>ISITE Design FED Template</title>

	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />

	<meta name="author" content="ISITE Design" />

	<link rel="shortcut icon" href="favicon.ico" />

   	<link rel="stylesheet" type="text/css" media="all" href="../../css/global.css" />
	<link rel="stylesheet" type="text/css" media="print" href="../../css/print.css" />

	<script type="text/javascript" src="../jquery-1.4.2.min.js"></script>	
	<script type="text/javascript" src="jquery.customselect.js"></script>

	<script type="text/javascript">
	// Dom loaded / jQuery
	jQuery(function($) {
		
		// initialize the custom selector
		// use this extra check if only including the source file on some pages. Else, remove check.
		if(typeof $.fn.customSelect != "undefined") {
	
			// custom function for making custom html in the select.
			// This is likely the reason you needed the custom select in the first place.
			// This example wraps a span around the words active and closed and gives appropriate styles.
			// You can safely remove or customize this function. 
			// receives text of each option tag.
			$.fn.customSelect.textFormat = function(txt) {
				var rx = new RegExp("(active|closed)",'gi');
				return txt.toLowerCase().replace(rx,'<span class="$1">$1</span>');	
			};
			
			// init
			$("select.custom").customSelect();  // form onchange attribute makes submit   
		}
		
		
		// IE6 bgiframe help
		// load bgiframe for IE6 with non ajax request to avoid any permissions issues
		// if already including bgiframe trigger in global, just add .custom-select-list-wrapper to selector
		if($.browser.msie && parseInt($.browser.version) < 7){
			
			// fix elements over selects z-index issue
			// load script without ajax to avoid ActiveX requirement
			function loadScript(src, callback) {
				var script = document.createElement("script");		
				if(script.attachEvent) {
					script.attachEvent("onreadystatechange",
					function() { loadScript.callbackIE(callback); });
				}
				script.src = src;
				document.getElementsByTagName("head")[0].appendChild(script);
			}
			loadScript.callbackIE = function(callback) {
				var target = window.event.srcElement;
				if(target.readyState == "loaded")
				callback.call(target);
			};		
			callback = function() { $(".custom-select-list-wrapper").bgiframe(); };
			
			loadScript("jquery.bgiframe.min.js", callback);
		
		}// if ie6		
	
	}); // goodnight, jquery
	
	</script>

	<style type="text/css">
	.custom-select-wrapper { position:relative; }
		/* the style of the default item and dropdown arrow/trigger */
		.custom-select-wrapper .custom-select-display a {
			background: #fff url(btn_dropdown_arrow.gif) top right no-repeat;
			border: 1px solid #c7c7c7;
			color: #222;
			cursor: pointer;
			display: block;
			line-height: 20px;	
			margin-left: 0;
			padding: 0 20px 0 4px;
			position: relative;
			text-decoration: none;
			width: 161px;
		}
			.custom-select-wrapper a 						{ color: #222; text-decoration: none; }
			
			/*
				just some custome styles for the app. likely the reason you need a custom select in the first place.
				these names/styles will change to your needs or remove
			*/
			.custom-select-wrapper a .closed, span.closed 	{ color: #f33; }
			.custom-select-wrapper a .active, span.active 	{ color: #44b51f; }
			/* end */			
			
			/* styles for the drop down */
			.custom-select-wrapper .custom-select-list-wrapper {
				background-color: #fff;
				border: 1px solid #c7c7c7;
				border-width: 0 1px 1px 1px;
				position: absolute; top: 1.75em; left: 0;
				width: 185px;
				max-height: 20em;
			}
			.custom-select-wrapper .maxheight 							{ overflow: auto; }
			/* override bgiframe calculated inline styles to prevent crawl bar. really just ie6 gets this. */
			.maxheight .bgiframe 										{ width: 160px !important; } 
			* html .custom-select-wrapper .maxheight 					{ height: 20em; }
			
			.custom-select-wrapper .custom-select-list-wrapper 			{ left: 0; }
			* html .custom-select-wrapper .custom-select-list-wrapper 	{ left: 0;  }
			
			/* the list styles */
			.custom-select-list-wrapper ul 	{ overflow: hidden; }
				.custom-select-wrapper li 	{ margin: 0; }
				.custom-select-wrapper li a {
					display: block;
					padding: 2px 4px;
					zoom: 1;
				}
				.custom-select-wrapper li a:hover,
				.custom-select-wrapper li a:focus,
				.custom-select-wrapper li a.focused { background-color: #eee; text-decoration: none; }
				
				
				
		/* just some FED template clean up. not applicable to custom select */
		fieldset { padding: 20px; }
		.custom-select-wrapper,.custom-select-wrapper div { border: none; }
	</style>


</head>

<body class="some-page">
<div id="wrapper">

	<div id="header">
		<a id="brand" href="/">a#brand</a>
		<ul class="accessibility">
			<li><a href="#content" tabindex="1" accesskey="2">Skip to Content</a></li>

			<li><a href="#nav" accesskey="3">Skip to Navigation</a></li>
			<li><a href="/" accesskey="1">Return to Homepage</a></li>
		</ul>
	</div><!-- /header -->

	<div id="content">

		<div id="primary">
			<h1>Custom Select Demo</h1>

			<p>
				Transforms a select element into an div > ul. Preserves any JS bound to form or change event.
				Works mostly as select should: up/down arrow, tab/shift+tab, click elsewhere/esc key to close,
				enter to open when focused, etc. Sets default to first item or item with selected=selected.
			</p>			
			<p>
				Functions for html are public and can be customized without touching plugin code, though some class names are hard coded,
				so double check or maintain classes.			
			</p>

			<form id="someform" action="formaction.html" method="get">
			
				<fieldset>
					
					<legend class="accessibility">Select Account Number</legend>
					
					<!-- this select gets replaced with a custom select. on change, the form submits -->							
					<label for="mycustomeselect">Custom Select</label>							
					<select class="custom" id="mycustomeselect" name="mycustomeselect">
						<option>12345678-123 1 active</option>
						<option>87654321-123 1 closed</option>
						<option>55555555-123 2</option>
						<option>55555555-123 3 </option>
						<option>55555555-123 4</option>
						<option>55555555-123 5</option>
						<option>55555555-123 6</option>
						<option>55555555-123 7</option>
						<option>55555555-123 8 </option>
						<option>55555555-123 9</option>
						<option>55555555-123 10</option>
						<option>55555555-123 11</option>
						<option>55555555-123 12</option>
						<option>55555555-123 13</option>
						<option>55555555-123 14</option>
						<option>55555555-123 15</option>
						<option>55555555-123 16</option>
						<option>55555555-123 17</option>
						<option>55555555-123 18</option>
						<option>55555555-123 19</option>
						<option>55555555-123 20</option>
						<option>55555555-123 21</option>
						<option>55555555-123 22</option>
						<option>55555555-123 23</option>
					</select>
					
					
					<label for="notcustom">A normal select</label>
					<select id="notcustom">
						<option>one</option>
						<option>two</option>
						<option>three</option>
					</select>
											
				</fieldset>						
			
			</form>	
			
			<!-- DEMO code to verify form submission. REMOVE -->
			<script type="text/javascript">					
				jQuery("#mycustomeselect").change(function(){
					alert("submitted " + jQuery(this).val());
					return false;
				});					
			</script>	
			<!-- END DEMO -->
					
		</div><!-- /primary -->

		<div id="secondary">
			<h2>#Secondary</h2>
		</div> <!-- /secondary -->

		<div id="tertiary">
			<h2>#Tertiary</h2>
		</div> <!-- /tertiary -->


	</div><!-- /content -->

	<div id="footer">
		<h2>#footer</h2>

	</div> <!-- /footer -->

		<ul id="nav">
		<li><a href="" class="nav-">Nav1</a></li>
		<li><a href="" class="nav-">Nav2</a></li>
		<li><a href="" class="nav-">Nav3</a></li>
	</ul> <!-- /nav -->

</div><!-- /wrapper -->
</body>
</html>